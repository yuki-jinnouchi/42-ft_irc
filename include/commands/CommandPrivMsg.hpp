#pragma once
#ifndef __COMMAND_PRIV_MSG_HPP__
#define __COMMAND_PRIV_MSG_HPP__

#include "ACommand.hpp"

/**
  @brief IRC command "PRIVMSG" handler.
*/

class CommandPrivMsg : public ACommand {
 public:
  // Orthodox Canonical Form
  CommandPrivMsg(IRCServer* server);
  ~CommandPrivMsg();

  // Member functions
  void execute(IRCMessage& msg);

 private:
  CommandPrivMsg();
  CommandPrivMsg(const CommandPrivMsg& other);
  CommandPrivMsg& operator=(const CommandPrivMsg& other);

  bool validatePrivMsg(IRCMessage& msg, IRCMessage& reply);
};

#endif  // __COMMAND_PRIV_MSG_HPP__

/*
æœªãƒ­ã‚°ã‚¤ãƒ³ã®å ´åˆ
PRIVMSG nick1 hello
(ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ãªã—)
:irc.example.net 451 * :Connection not registered
(ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ã‚ã‚Š)
:irc.example.net 451 nick1 :Connection not registered

å¼•æ•°ä¸è¶³
PRIVMSG
:irc.example.net 411 nick2 :No recipient given (PRIVMSG)

å¼•æ•°ä¸è¶³ï¼ˆå­˜åœ¨ã—ãªã„ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ /ãƒãƒ£ãƒ³ãƒãƒ«ï¼‰
PRIVMSG abc
:irc.example.net 412 nick2 :No text to send

å¼•æ•°ä¸è¶³
PRIVMSG nick1
:irc.example.net 412 nick2 :No text to send

å¼•æ•°éå‰°
PRIVMSG nick1 a b
:irc.example.net 461 nick2 PRIVMSG :Syntax error

å­˜åœ¨ã—ãªã„ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ /ãƒãƒ£ãƒ³ãƒãƒ«ã®å ´åˆ
PRIVMSG #ch hello
:irc.example.net 401 nick2 #ch :No such nick or channel name

ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ã¯å­˜åœ¨ã™ã‚‹ãŒã€ã¾ã ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã„ãªã„å ´åˆ
PRIVMSG nick1 hello
:irc.example.net 401 nick2 nick1 :No such nick or channel name

é€šå¸¸
PRIVMSG nick1 hello
(ç›¸æ‰‹ã«é€ä¿¡ã•ã‚Œã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸)
:nick2!~e@localhost PRIVMSG nick1 :hello

é€šå¸¸(è‡ªåˆ†è‡ªèº«ã«é€ä¿¡)
PRIVMSG nick1 hello
:nick1!~user1@localhost PRIVMSG nick1 :hello

é€šå¸¸ï¼ˆ:ã ã‘ã®å ´åˆï¼‰
PRIVMSG nick1 :
(ç›¸æ‰‹ã«é€ä¿¡ã•ã‚Œã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸)
:nick2!~f@localhost PRIVMSG nick1 :

é€šå¸¸ï¼ˆæ—¥æœ¬èªã€çµµæ–‡å­—ã€ã‚¹ãƒšãƒ¼ã‚¹ï¼‰
PRIVMSG nick1 :å¯¿å¸ğŸ£ é…’æ± è‚‰æ—ğŸºğŸ– Hello World!
:nick2!~f@localhost PRIVMSG nick1 :å¯¿å¸ğŸ£é…’æ± è‚‰æ—ğŸºğŸ–

é€šå¸¸ï¼ˆé•·ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‰
PRIVMSG nick2
12345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234
:nick1!~user1@localhost PRIVMSG nick2
:1234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456[CUT]

512æ–‡å­—ä»¥ä¸Šã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸(BANã•ã‚Œã‚‹)
PRIVMSG nick1
12345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890
:irc.example.net NOTICE nick2 :Connection statistics: client 1.3 kb, server 2.6
kb.
ERROR :Request too long
*/
